# Take in a cfg file and parse it into blocks

from re import findall

thefile = "CFG_files/cfidkbgamfhdgmedldkagjopnbobdmdn/legacy.js"

block_reg = r"""\[block\s([0-9]+(?: loop)?)\]\s*\n# predecessors: ([0-9]*(?:, [0-9]+)*)\s*\n# parent:([| null]*)\s*\n# frontier:([| null])\s*\n# cfrontier:([| null])\s*\n((?:i[0-9]+ = .*\n)+)# successors: ([0-9]*(?:, [0-9]+)*)\s*\n# children: ([0-9]*(?:, [0-9]+)*)\s*\n"""

with open(thefile, "r") as f:
    cfg = f.read();

matches = findall(block_reg, cfg);

print len(matches)

    


