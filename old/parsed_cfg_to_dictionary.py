from parser import *

#filename = "exampleeval.js.cfg"
filename = "CFG_files/lahlmdogjpblkonckkgbljegkiijjbag/cweChromeQuickTopic.js.cfg"
parsed_cfg = parseCFG(filename)

graph = {}

for node in parsed_cfg:
    nodenum = node[0]
    preds = node[1]
    parent = node[2]
    frontier = node[3]
    cfrontier = node[4]
    instrs = node[5]
    successors = node[6]
    children = node[7]

    nodenum = int(nodenum.rstrip(' loop'))
    successors = successors.split(',')
    nodedict = {}
    if not len(successors[0]) == 0:
        successors = map(int, successors)
        for successor in successors:
            nodedict[successor] = 1
    graph[nodenum] = nodedict

#print graph
print get_all_sinks(filename)

#print get_arg_of_innerHTML(parse_block(parsed_cfg[3]))
